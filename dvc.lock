schema: '2.0'
stages:
  data_ingestion:
    cmd: python -m src.components.data_ingestion --source s3
    deps:
    - path: config/config.py
      hash: md5
      md5: ea39dff95d4f087689b722a11ca03c44
      size: 8122
    - path: config/schema.yaml
      hash: md5
      md5: f835c415d99c3ff0869378b0f529c99e
      size: 35376
    - path: src/components/data_ingestion.py
      hash: md5
      md5: 7d83942d938753d094b21f94c4e352a4
      size: 10689
    - path: src/utils/fetch_data.py
      hash: md5
      md5: d3699e6665a72f8fa4c0b89cc98a1b08
      size: 29634
    outs:
    - path: artifacts/data/raw/raw_data.csv
      hash: md5
      md5: d3cf9f95dc7a6259c09173f88fb727ff
      size: 5700368
  data_transformation_Feature_engineering:
    cmd: python -m src.components.data_FE_transformation
    deps:
    - path: artifacts/data/raw/raw_data.csv
      hash: md5
      md5: d3cf9f95dc7a6259c09173f88fb727ff
      size: 5700368
    - path: config/config.py
      hash: md5
      md5: ea39dff95d4f087689b722a11ca03c44
      size: 8122
    - path: config/schema.yaml
      hash: md5
      md5: f835c415d99c3ff0869378b0f529c99e
      size: 35376
    - path: src/components/data_FE_transformation.py
      hash: md5
      md5: 9b36cb90cd493ddb2e7bac0a87fe39f0
      size: 44802
    outs:
    - path: artifacts/data/transformed/Test_transformed.csv
      hash: md5
      md5: 5691e84e8a0b198f2f9960be86afc7a3
      size: 3493921
    - path: artifacts/data/transformed/Train_transformed.csv
      hash: md5
      md5: f9e0570f550445a65c63f63052c9dec3
      size: 13982592
  model_training:
    cmd: python -m src.components.model_training_evaluation
    deps:
    - path: artifacts/data/transformed/Test_transformed.csv
      hash: md5
      md5: 5691e84e8a0b198f2f9960be86afc7a3
      size: 3493921
    - path: artifacts/data/transformed/Train_transformed.csv
      hash: md5
      md5: f9e0570f550445a65c63f63052c9dec3
      size: 13982592
    - path: config/config.py
      hash: md5
      md5: ea39dff95d4f087689b722a11ca03c44
      size: 8122
    - path: config/params.yaml
      hash: md5
      md5: 66844f1a1fa04c9a7afc69bc3981cf32
      size: 678
    - path: config/schema.yaml
      hash: md5
      md5: f835c415d99c3ff0869378b0f529c99e
      size: 35376
    - path: src/components/model_training_evaluation.py
      hash: md5
      md5: 5962fa4217bd794096dcaeed64d51492
      size: 33633
    params:
      config/params.yaml:
        model_params.XGBClassifier:
          objective: binary:logistic
          eval_metric: auc
          tree_method: hist
          device: cuda
          scale_pos_weight: 27
          max_depth: 8
          min_child_weight: 5
          learning_rate: 0.02
          n_estimators: 3000
          subsample: 0.8
          colsample_bytree: 0.7
          reg_alpha: 1
          reg_lambda: 2
          early_stopping_rounds: 80
        model_training:
          test_size: 0.13
          random_state: 6
          target_column: isFraud
