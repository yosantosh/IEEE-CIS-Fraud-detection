schema: '2.0'
stages:
  data_ingestion:
    cmd: python -m src.components.data_ingestion --source s3
    deps:
    - path: config/config.yaml
      hash: md5
      md5: 0e1f128ecbd0a61fc70464255dd28859
      size: 2019
    - path: src/components/data_ingestion.py
      hash: md5
      md5: ae613b1c3228dab0cb7779888cc436a5
      size: 10694
    - path: src/constants/schema.yaml
      hash: md5
      md5: 3c7397df6e0223a1bcb0502579ce3098
      size: 36094
    - path: src/utils/fetch_data.py
      hash: md5
      md5: d3699e6665a72f8fa4c0b89cc98a1b08
      size: 29634
    params:
      config/config.yaml:
        data_ingestion.source_type: s3
    outs:
    - path: artifacts/data/raw/raw_data.csv
      hash: md5
      md5: 4a00b3d9cf7736a19970e41b901373c5
      size: 23272812
  data_transformation_Feature_engineering:
    cmd: python -m src.components.data_FE_transformation
    deps:
    - path: artifacts/data/raw/raw_data.csv
      hash: md5
      md5: 4a00b3d9cf7736a19970e41b901373c5
      size: 23272812
    - path: src/components/data_FE_transformation.py
      hash: md5
      md5: 65578caed69dc34107a75fccf6d0d0d4
      size: 42288
    - path: src/constants/config.py
      hash: md5
      md5: 45c08034f229b2638e7316a3875917e0
      size: 4772
    - path: src/constants/schema.yaml
      hash: md5
      md5: 3c7397df6e0223a1bcb0502579ce3098
      size: 36094
    outs:
    - path: artifacts/data/transformed/Test_transformed.csv
      hash: md5
      md5: 358be53b2b440522de4d6f29bd2208e6
      size: 15875349
    - path: artifacts/data/transformed/Train_transformed.csv
      hash: md5
      md5: 254381c8137344f9ca20c3525ef69167
      size: 63543066
  model_training:
    cmd: python -m src.components.model_training_evaluation
    deps:
    - path: artifacts/data/transformed/Test_transformed.csv
      hash: md5
      md5: 358be53b2b440522de4d6f29bd2208e6
      size: 15875349
    - path: artifacts/data/transformed/Train_transformed.csv
      hash: md5
      md5: 254381c8137344f9ca20c3525ef69167
      size: 63543066
    - path: src/components/model_training_evaluation.py
      hash: md5
      md5: 87cb18a37b9b86f0e2825af930f89be1
      size: 27956
    - path: src/constants/config.py
      hash: md5
      md5: 45c08034f229b2638e7316a3875917e0
      size: 4772
    - path: src/constants/params.yaml
      hash: md5
      md5: 86fd55b2e0edb875bd0e3f6df5260f2c
      size: 679
    - path: src/constants/schema.yaml
      hash: md5
      md5: 3c7397df6e0223a1bcb0502579ce3098
      size: 36094
    params:
      src/constants/params.yaml:
        model_params.XGBClassifier:
          objective: binary:logistic
          eval_metric: auc
          tree_method: hist
          device: cuda
          scale_pos_weight: 27
          max_depth: 10
          min_child_weight: 5
          learning_rate: 0.02
          n_estimators: 3000
          subsample: 0.8
          colsample_bytree: 0.7
          reg_alpha: 1
          reg_lambda: 2
          early_stopping_rounds: 80
        model_training:
          test_size: 0.13
          random_state: 6
          target_column: isFraud
    outs:
    - path: models/confusion_matrix.png
      hash: md5
      md5: 45b9ed0db3c3aecd7f084c4be7e89f8d
      size: 37178
    - path: models/metrics.json
      hash: md5
      md5: cb1a6e75b1d5f86b4d3a652c8f4d292f
      size: 316
