schema: '2.0'
stages:
  data_ingestion:
    cmd: python -m src.components.data_ingestion --source s3
    deps:
    - path: config/config.py
      hash: md5
      md5: f8e4f0aaad703b3e511d50df2d3895f5
      size: 8124
    - path: config/schema.yaml
      hash: md5
      md5: 78ba2556dec094b26cd321ab0a3f887b
      size: 35682
    - path: src/components/data_ingestion.py
      hash: md5
      md5: 7d83942d938753d094b21f94c4e352a4
      size: 10689
    - path: src/utils/fetch_data.py
      hash: md5
      md5: d3699e6665a72f8fa4c0b89cc98a1b08
      size: 29634
    outs:
    - path: artifacts/data/raw/raw_data.csv
      hash: md5
      md5: f861fc031a33c1fd756f722bec449e09
      size: 11318048
  data_transformation_Feature_engineering:
    cmd: python -m src.components.data_FE_transformation
    deps:
    - path: artifacts/data/raw/raw_data.csv
      hash: md5
      md5: f861fc031a33c1fd756f722bec449e09
      size: 11318048
    - path: config/config.py
      hash: md5
      md5: f8e4f0aaad703b3e511d50df2d3895f5
      size: 8124
    - path: config/schema.yaml
      hash: md5
      md5: 78ba2556dec094b26cd321ab0a3f887b
      size: 35682
    - path: src/components/data_FE_transformation.py
      hash: md5
      md5: 85806be0f1458f7388e14b489529555d
      size: 45042
    outs:
    - path: artifacts/data/transformed/Test_transformed.csv
      hash: md5
      md5: 0246cf773afa76ad2290c82187e1ac07
      size: 7404598
    - path: artifacts/data/transformed/Train_transformed.csv
      hash: md5
      md5: 92479808104f26e3d6bd8961b4adc32c
      size: 29593230
  model_training:
    cmd: python -m src.components.model_training_evaluation
    deps:
    - path: artifacts/data/transformed/Test_transformed.csv
      hash: md5
      md5: 0246cf773afa76ad2290c82187e1ac07
      size: 7404598
    - path: artifacts/data/transformed/Train_transformed.csv
      hash: md5
      md5: 92479808104f26e3d6bd8961b4adc32c
      size: 29593230
    - path: config/config.py
      hash: md5
      md5: f8e4f0aaad703b3e511d50df2d3895f5
      size: 8124
    - path: config/params.yaml
      hash: md5
      md5: 86fd55b2e0edb875bd0e3f6df5260f2c
      size: 679
    - path: config/schema.yaml
      hash: md5
      md5: 78ba2556dec094b26cd321ab0a3f887b
      size: 35682
    - path: src/components/model_training_evaluation.py
      hash: md5
      md5: cf0e32e398b85f4a7004706835c8fb26
      size: 28367
    params:
      config/params.yaml:
        model_params.XGBClassifier:
          objective: binary:logistic
          eval_metric: auc
          tree_method: hist
          device: cuda
          scale_pos_weight: 27
          max_depth: 10
          min_child_weight: 5
          learning_rate: 0.02
          n_estimators: 3000
          subsample: 0.8
          colsample_bytree: 0.7
          reg_alpha: 1
          reg_lambda: 2
          early_stopping_rounds: 80
        model_training:
          test_size: 0.13
          random_state: 6
          target_column: isFraud
    outs:
    - path: models/confusion_matrix.png
      hash: md5
      md5: a82db045de0e0c5547bc0930c99a7262
      size: 34692
    - path: models/metrics.json
      hash: md5
      md5: a069227150b6cebc4c6e60c1ba351938
      size: 311
